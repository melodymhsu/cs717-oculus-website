<!-- Example of how to add comments -->

<html style="padding:50px;">

<body>

	<!-- Title -->
	<h1 style="background-color:lightcyan;">Real-Time Collaborative Virtual Reality Across the Continent</h1>
	
	<p>
		<strong>Bohan Wu | Brandon Fremin | Junjie Lei | Melody Hsu</strong>
	</p>

	<h2>Overview</h2>
	<p>
		Virtual Reality (VR) is a rapidly evolving area of technology that is becoming increasingly prevalent in 
		a wide area of applications such as art, education, business, entertainment, and much more. 

		With such diversity in its applications, what our team aims to address is how we can use VR to develop
		the future of virtual real-time collaboration and communication. Our goal is to ensure that within the 
		continental United States, users joining a common virtual space are experiencing events and interacting 
		at the same time. Additionally, all users should see a consistent view of the world as it changes in response 
		to user input and interaction.
		
		Perhaps the most notable of the currently released VR devices (as of May 2022) is Meta's Oculus Quest 2, 
		which is what our team uses in our project development. Using the Oculus Quest, Unity Engine for game 
		development, and <a href="http://www.spines.org/">Spines</a> infrastructure to impose artificial latencies
		in server-to-server communication, we created an application that is extensible to general VR devices and enables
		players to interact in real-time (&lt; 65 ms delay).
	</p>
	<br />

	<h2>System Architecture and Protocol</h2>
	<p>
		<ul>
			<li>TODO: will add diagrams once they are finalized</li>
			<li>VR device has a local state about where the headset and controllers are positioned</li>
			<li>Most games update the local state, then update the server, then reconcile the local and server states</li>
			<li>Our application instead updates the server first, then updates the local state based on the server</li>
			<ul>
				<li>Allows the server to consolidate information about all players and the world state before player 
					views are rendered locally
				</li>
			</ul>
			<li>Synchonous delivery is achieved</li>
			<ul>
				<li>Receiving servers store messages from clients and order them by timestamp in a priority queue</li>
				<li>Following a 65 ms delay, server responses are sent back to the clients</li>
			</ul>
			<li>Messages sent between client and servers are formatted using a 
				<a href="https://developers.google.com/protocol-buffers">protocol buffer</a>. 
			</li>

		</ul>
	</p>
	<br />

	<h2>Spines</h2>
	<p>
		<img src="./interactive_vr_assets/images/continental_spines_overlay.png" width="600">
		<br>
		On each of the 8 servers we had running in the <a href="https://www.cnds.jhu.edu/">Distributed Systems and Networks</a> 
		lab, a Spines daemon was run to represent one of the above locations. Each link between two locations represents
		the one-way trip time in miliseconds. By having a server represent each location and using Spines to create artificial 
		links between servers, we emulated the transcontinental path that packets take when routed to and from different 
		destinations across the United States.
		
	</p>
	<br />

	<h2>Proof of Concept</h2>
	<p>
		<ul>
			<li>TODO: screenshots of app</li>
		</ul>
		Our application allows up to 8 unique players to join a lobby, select a location, and interact with one another.
		Movements made by a player are consistently represented among all player views at the same time, and an added
		layer of interactivity is incorporated in the game objects placed in the environment. Players are able to claim
		posession over objects and move a sphere with their controllers. To provide a tactile demonstration of the 
		synchronized delay between user input and server responses, haptic feedback is also built into this interactive
		component. Players can click a button to send a haptic message to all other players in the lobby, in which all 
		players (including the player who sent the message) will feel a controller rumble 65 ms after the haptic message
		is sent.
	</p>
	<br />

	<h2>Metrics</h2>
	<p>
		<ul>
			<li>TODO: final metric graphs</li>
		</ul>
		<h2>Image Example</h2>
		<img src="./interactive_vr_assets/images/CHI_receive.png" width="600" height="400">
	<br />
	</p>
	<br />


	<h2>Table Example</h2>
	<table border="1px solid black">
		<!-- Table Rows (tr) -->
		<tr>
			<!-- Table Headers (th) -->
			<th>Server</th>
			<th>Recv</th>
			<th>Handle</th>
		</tr>
		<tr>
			<!-- Table Data (td) -->
			<td>CHI</td>
			<td>8.0</td>
			<td>65.0</td>
		</tr>
		<tr>
			<!-- Table Data (td) -->
			<td>LAX</td>
			<td>31.0</td>
			<td>65.0</td>
		</tr>
		<tr>
			<!-- Table Data (td) -->
			<td>DFW</td>
			<td>15.0</td>
			<td>65.0</td>
		</tr>
	</table>
	<br />


	<h2>Video Example</h2>
	<!-- Setting only one of width/height maintains aspect ratio -->
	<video width="600" controls>
		<source src="./interactive_vr_assets/videos/sample_video.mp4" type="video/mp4">
		Your browser does not support the video tag.
	</video>
	<br />

</body>

</html>